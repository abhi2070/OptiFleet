
<div class="tb-timewindow-style-panel" [formGroup]="timewindowStyleFormGroup">
  <div class="tb-timewindow-style-title" translate>timewindow.style</div>
  <div class="tb-form-row space-between">
    <mat-slide-toggle class="mat-slide" formControlName="showIcon">
      {{ 'timewindow.icon' | translate }}
    </mat-slide-toggle>
    <div fxLayoutAlign="start center" fxLayoutGap="8px">
      <mat-form-field appearance="outline" subscriptSizing="dynamic">
        <input matInput formControlName="iconSize">
      </mat-form-field>
      <tb-material-icon-select asBoxInput
                               iconClearButton
                               formControlName="icon">
      </tb-material-icon-select>
    </div>
  </div>
  <div class="tb-form-row">
    <div class="fixed-title-width" translate>timewindow.icon-position</div>
    <mat-form-field fxFlex appearance="outline" subscriptSizing="dynamic">
      <mat-select formControlName="iconPosition" placeholder="{{ 'widget-config.set' | translate }}">
        <mat-option [value]="'left'">
          {{ 'timewindow.icon-position-left' | translate }}
        </mat-option>
        <mat-option [value]="'right'">
          {{ 'timewindow.icon-position-right' | translate }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="tb-form-row space-between">
    <div translate>timewindow.font</div>
    <tb-font-settings
      clearButton
      [previewText]="timewindowComponent.displayValue()"
      [initialPreviewStyle]="{fontSize: '14px',
                              color: 'rgba(0, 0, 0, 0.87)',
                              opacity: '0.85',
                              lineHeight: 'normal',
                              letterSpacing: 'normal'}"
      formControlName="font">
    </tb-font-settings>
  </div>
  <div class="tb-form-row space-between">
    <div translate>timewindow.color</div>
    <tb-color-input
      formControlName="color"
      colorClearButton
      asBoxInput>
    </tb-color-input>
  </div>
  <div class="tb-form-row">
    <mat-slide-toggle class="mat-slide" formControlName="displayTypePrefix">
      {{ 'timewindow.displayTypePrefix' | translate }}
    </mat-slide-toggle>
  </div>
  <mat-divider></mat-divider>
  <div class="tb-form-row no-border no-padding timewindow-preview">
    <div class="fixed-title-width" translate>timewindow.preview</div>
    <tb-timewindow #timewindowComponent
                   disablePanel
                   alwaysDisplayTypePrefix
                   timezone="true"
                   noMargin
                   noPadding
                   [timewindowStyle]="previewTimewindowStyle"
                   [ngModel]="previewValue"
                   [ngModelOptions]="{standalone: true}">
    </tb-timewindow>
  </div>
  <div class="tb-timewindow-style-panel-buttons">
    <button mat-button
            color="primary"
            type="button"
            (click)="cancel()">
      {{ 'action.cancel' | translate }}
    </button>
    <button mat-raised-button
            color="primary"
            type="button"
            (click)="applyTimewindowStyle()"
            [disabled]="timewindowStyleFormGroup.invalid || !timewindowStyleFormGroup.dirty">
      {{ 'action.apply' | translate }}
    </button>
  </div>
</div>
