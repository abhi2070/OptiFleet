
<section class="tb-widget-settings" [formGroup]="providerSettingsFormGroup">
  <mat-form-field fxFlex class="mat-block">
    <mat-label translate>widgets.maps.map-layer</mat-label>
    <mat-select required formControlName="mapProviderHere">
      <mat-option *ngFor="let provider of hereMapProviders" [value]="provider">
        {{hereMapProviderTranslations.get(provider) | translate}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <section class="tb-widget-settings" formGroupName="credentials">
    <fieldset class="fields-group">
      <legend class="group-title" translate>widgets.maps.credentials</legend>
      <mat-slide-toggle formControlName="useV3" style="margin-bottom: 16px;">
        {{ 'widgets.maps.here-use-new-version-api-3' | translate }}
      </mat-slide-toggle>
      <div *ngIf="!providerSettingsFormGroup.get('credentials.useV3').value; else apiKey" fxLayout="row" fxLayoutGap="8px"
        fxLayout.xs="column" fxLayoutGap.xs="0">
        <mat-form-field fxFlex class="mat-block">
          <mat-label translate>widgets.maps.here-app-id</mat-label>
          <input required matInput formControlName="app_id">
        </mat-form-field>
        <mat-form-field fxFlex class="mat-block">
          <mat-label translate>widgets.maps.here-app-code</mat-label>
          <input required matInput formControlName="app_code">
        </mat-form-field>
      </div>
      <ng-template #apiKey>
        <mat-form-field fxFlex class="mat-block">
          <mat-label translate>widgets.maps.here-api-key</mat-label>
          <input required matInput formControlName="apiKey">
        </mat-form-field>
      </ng-template>
    </fieldset>
  </section>
</section>
