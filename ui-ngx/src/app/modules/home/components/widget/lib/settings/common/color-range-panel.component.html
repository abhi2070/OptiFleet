
<div class="tb-color-settings-panel" [formGroup]="colorRangeFormGroup">
  <div class="tb-color-settings-title" translate>widgets.color.color-settings</div>
  <div class="tb-color-settings-panel-body">
    <tb-color-range-list fxFlex class="tb-color-ranges-panel"
                         formControlName="rangeList"
                         [popover]="popover">
    </tb-color-range-list>
  </div>
  <div class="tb-color-settings-panel-buttons">
      <button *ngIf="settingsComponents?.length"
              #copySettingsButton
              mat-stroked-button
              color="primary"
              type="button"
              [matMenuTriggerFor]="settingsSourcesMenu" [matMenuTriggerData]="{menuWidth: copySettingsButton._elementRef.nativeElement.clientWidth}">
        {{ 'widgets.color.copy-color-settings-from' | translate }}
      </button>
      <mat-menu #settingsSourcesMenu="matMenu">
        <ng-template matMenuContent let-menuWidth="menuWidth">
          <div [style.min-width.px]="menuWidth">
            <button mat-menu-item *ngFor="let comp of settingsComponents" (click)="copyColorSettings(comp)">{{ comp.settingsKey }}</button>
          </div>
        </ng-template>
      </mat-menu>
      <span fxFlex></span>
      <button mat-button
              color="primary"
              type="button"
              (click)="cancel()">
        {{ 'action.cancel' | translate }}
      </button>
      <button mat-raised-button
              color="primary"
              type="button"
              (click)="applyColorRangeSettings()"
              [disabled]="colorRangeFormGroup.invalid || !colorRangeFormGroup.dirty">
        {{ 'action.apply' | translate }}
      </button>
  </div>
</div>
