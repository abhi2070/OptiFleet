
<ng-container [formGroup]="flotLatestKeySettingsForm">
  <div class="tb-form-panel tb-slide-toggle">
    <div class="tb-form-panel-title" translate>widgets.chart.threshold-settings</div>
    <mat-expansion-panel class="tb-settings" [expanded]="flotLatestKeySettingsForm.get('useAsThreshold').value"
                         [disabled]="!flotLatestKeySettingsForm.get('useAsThreshold').value">
      <mat-expansion-panel-header fxLayout="row wrap">
        <mat-panel-title>
          <mat-slide-toggle class="mat-slide" formControlName="useAsThreshold" (click)="$event.stopPropagation()"
                            fxLayoutAlign="center">
            {{ 'widgets.chart.use-as-threshold' | translate }}
          </mat-slide-toggle>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <ng-template matExpansionPanelContent>
        <div class="tb-form-row space-between">
          <div translate>widgets.chart.threshold-line-width</div>
          <mat-form-field appearance="outline" class="number" subscriptSizing="dynamic">
            <input matInput formControlName="thresholdLineWidth" type="number" min="0" placeholder="{{ 'widget-config.set' | translate }}">
            <span matSuffix>px</span>
          </mat-form-field>
        </div>
        <div class="tb-form-row space-between">
          <div>{{ 'widgets.chart.threshold-color' | translate }}</div>
          <tb-color-input asBoxInput
                          formControlName="thresholdColor">
          </tb-color-input>
        </div>
      </ng-template>
    </mat-expansion-panel>
  </div>
</ng-container>
